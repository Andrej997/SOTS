
Table users {
  id bigint [pk, increment] // auto-increment
  name text
  surname text
  username text
  password_hash text
  created_at timestamp
}

Table roles {
  id bigint [pk]
  name varchar
}
 
Table user_roles {
  user_id bigint [pk]
  role_id bigint [pk]
}

Table subjects {
  id bigint [pk]
  name text
}

Table tests {
  id bigint [pk, increment]
  name varchar
  subject_id bigint
  created_at timestamp
  creator_id bigint
  test_time_id bigint
  max_points int
}

Table student_tests {
 id bigint [pk, increment]
 user_id bigint
 test_id bigint
 took_test boolean
 points float
 grade_id bigint
 test_started timestamp
 test_finished timestamp
} 

Table test_time {
 id bigint [pk]
 start timestamp
 end timestamp
} 

Table grades {
  id bigint [pk]
  from_procentage float
  to_procentage float
  label text // moze biti kao u osnovnoj/srednoj (1..5) ili fax (5..10) ili USA (A..F)
}

Table questions {
 id bigint [pk, increment]
 text_question text
 created_at timestamp
 points int
 test_id bigint
}

Table answers {
 id bigint [pk, increment]
 text_answer text
 question_id bigint
 is_correct boolean
}

Table user_subject {
  subject_id bigint [pk]
  user_id bigint [pk]
}

Table choosen_answers {
  student_test_id bigint [pk]
  question_id bigint [pk]
  answer_id bigint [pk]
}

Ref: user_roles.role_id > roles.id
Ref: user_roles.user_id > users.id
Ref: tests.subject_id > subjects.id
Ref: student_tests.test_id > tests.id
Ref: student_tests.user_id > users.id
Ref: users.id < tests.creator_id
Ref: test_time.id < tests.test_time_id
Ref: grades.id < student_tests.grade_id
Ref: questions.test_id > tests.id
Ref: questions.id < answers.question_id
Ref: student_tests.id < choosen_answers.student_test_id
Ref: user_subject.subject_id > subjects.id
Ref: users.id < user_subject.user_id

