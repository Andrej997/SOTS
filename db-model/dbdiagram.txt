
Table users {
  id bigint [pk, increment] // auto-increment
  name text
  surname text
  username text
  password_hash text
  created_at timestamp
}

Table roles {
  id bigint [pk]
  name varchar
}
 
Table user_roles {
  user_id bigint [pk]
  role_id bigint [pk]
}

Ref: user_roles.role_id > roles.id
Ref: user_roles.user_id > users.id

//----------------------------------------------//

Table subjects {
  id bigint [pk]
  name text
 }

Table tests {
  id bigint [pk, increment]
  name varchar
  subject_id bigint
  created_at timestamp
  creator_id bigint
  test_time_id bigint
  question_id bigint
 }
 
Ref: tests.subject_id > subjects.id
 
//----------------------------------------------//
 
Table student_tests {
 id bigint [pk, increment]
 user_id bigint
 test_id bigint
 took_test boolean
 points float
 grade_id bigint
} 
 
Ref: student_tests.test_id > tests.id
Ref: student_tests.user_id > users.id
Ref: users.id < tests.creator_id

Table tests_test_time {
 test_id bigint [pk]
 test_time_id bigint [pk]
}

Table test_time {
 id bigint [pk]
 start timestamp
 end timestamp
} 

Ref: tests_test_time.test_id > tests.test_time_id
Ref: test_time.id < tests_test_time.test_time_id

Table grades {
  id [pk]
  from_procentage float
  to_procentage float
  label text // moze biti kao u osnovnoj/srednoj (1..5) ili fax (5..10) ili USA (A..F)
}

Ref: grades.id < student_tests.grade_id

Table questions {
 id bigint [pk, increment]
 text_question text
 created_at timestamp
}

Ref: questions.id > tests.question_id

Table answers {
 id bigint [pk, increment]
 text_answer text
 question_id bigint
 is_correct boolean
}

Ref: questions.id < answers.question_id

Table question_completed {
 id bigint [pk]
 student_tests_id bigint
 question_id bigint
 completed_persentage fload
}

Ref: student_tests.id < question_completed.student_tests_id
Ref: questions.id < question_completed.question_id

Table user_subject {
  subject_id bigint [pk]
  user_id bigint [pk]
  
  
}

Ref: user_subject.subject_id > subjects.id
Ref: users.id < user_subject.user_id





















