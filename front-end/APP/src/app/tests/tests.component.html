

<div class='container'>
    <form [formGroup]="testForm" (ngSubmit)="onFirstSubmit()">
        <div class="form-group">
            <label>Test name</label>
            <input type="email" formControlName="name" class="form-control" aria-describedby="emailHelp" placeholder="Test name">
            <!-- <small id="emailHelp" class="form-text text-muted">The name of the test.</small> -->
        </div>

        <div class="form-group">
            <label>Subject</label>
            <select class="form-control"  formControlName="subject">
                <option *ngFor="let subject of subjects" [value]="subject.id">{{ subject.name }}</option>
            </select>
        </div>

        <div class="form-group">
            <button type="button" (click)="addQuestion()" class="btn btn-primary">Add question</button>
            <div *ngFor="let question of questions">
                <label>Question {{question.id}}</label>
                <input type="text" class="form-control" placeholder="Question text" (change)='addQuestionText($event, question.id)'>
                <br>
                <button type="button" (click)="addAnswer(question.id)" class="btn btn-primary">Add answer</button>
                <div class="form-group">
                    <!-- <button type="button" (click)="addAnswer()" class="btn btn-primary">Add answer</button> -->
                    <div *ngFor="let answer of question.Answers">
                        <label>Answer {{answer.id}}</label>
                        <input type="text" class="form-control" placeholder="Answer {{answer.id}} text" (change)='addAnswerText($event, question.id, answer.id)'>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" (change)='setCorrectAnswer(question.id, answer.id)'>
                            <label class="form-check-label">Is correct</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
</div>
